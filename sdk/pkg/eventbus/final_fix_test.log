=== RUN   TestEventBusManager_HealthCheck_Infrastructure
2025-10-15T01:31:37.209+0800	INFO	logger/logger.go:48	Memory eventbus initialized successfully
2025-10-15T01:31:37.225+0800	INFO	logger/logger.go:48	Subscribed to topic in memory eventbustopichealth_check_topictotalSubscribers1
2025-10-15T01:31:37.327+0800	DEBUG	logger/logger.go:64	Message published to memory eventbustopichealth_check_topicsubscribers1
2025-10-15T01:31:37.327+0800	DEBUG	logger/logger.go:64	End-to-end health check successfulpublishLatency0stotalLatency0smessagehealth-check-1760463097225603200
2025-10-15T01:31:37.327+0800	DEBUG	logger/logger.go:64	Health check completed successfully
2025-10-15T01:31:37.327+0800	DEBUG	logger/logger.go:64	Memory publisher closed
2025-10-15T01:31:37.327+0800	DEBUG	logger/logger.go:64	Memory subscriber closed
2025-10-15T01:31:37.327+0800	INFO	logger/logger.go:48	EventBus closed successfully
--- PASS: TestEventBusManager_HealthCheck_Infrastructure (0.12s)
=== RUN   TestHealthCheckFailureScenarios
=== RUN   TestHealthCheckFailureScenarios/SubscriberTimeoutDetection
2025-10-15T01:31:37.356+0800	INFO	logger/logger.go:48	Memory eventbus initialized successfully
2025-10-15T01:31:37.357+0800	INFO	logger/logger.go:48	EventBus created successfullytypememory
2025-10-15T01:31:37.357+0800	INFO	logger/logger.go:48	Global EventBus initialized successfullytypememory
2025-10-15T01:31:37.357+0800	INFO	logger/logger.go:48	EventBus initialized from unified config successfullytypememoryserviceNametest-servicehealthCheckEnabledtruepublisherConfiguredtruesubscriberConfiguredtrue
2025-10-15T01:31:37.357+0800	INFO	logger/logger.go:48	Subscribed to topic in memory eventbustopictest-timeouttotalSubscribers1
2025-10-15T01:31:37.357+0800	INFO	logger/logger.go:48	Successfully subscribed to topictopictest-timeout
2025-10-15T01:31:37.357+0800	INFO	logger/logger.go:48	Health check subscriber startedsourcememory-eventbuseventBusTypememorytopictest-timeoutexpectedInterval10s
2025-10-15T01:31:37.357+0800	INFO	logger/logger.go:48	Health check subscriber started for memory eventbus
2025-10-15T01:31:37.357+0800	DEBUG	logger/logger.go:64	Health check monitoring loop startedsourcememory-eventbusmonitorInterval1sexpectedInterval10s
    health_check_integration_test.go:649: Expected to receive timeout alerts, but got none
    health_check_integration_test.go:656: Expected consecutive misses > 0
    health_check_integration_test.go:658: Final subscriber stats: {StartTime:2025-10-15 01:31:37.3571109 +0800 CST m=+0.166120001 LastMessageTime:0001-01-01 00:00:00 +0000 UTC TotalMessagesReceived:0 ConsecutiveMisses:0 TotalAlerts:0 LastAlertTime:0001-01-01 00:00:00 +0000 UTC IsHealthy:false UptimeSeconds:4.0009036}
2025-10-15T01:31:41.358+0800	DEBUG	logger/logger.go:64	Stopping health check subscriber before closing EventBus
2025-10-15T01:31:41.359+0800	DEBUG	logger/logger.go:64	Health check monitoring loop stoppedsourcememory-eventbus
2025-10-15T01:31:41.359+0800	INFO	logger/logger.go:48	Health check subscriber stoppedsourcememory-eventbuseventBusTypememory
2025-10-15T01:31:41.359+0800	DEBUG	logger/logger.go:64	Memory publisher closed
2025-10-15T01:31:41.359+0800	DEBUG	logger/logger.go:64	Memory subscriber closed
2025-10-15T01:31:41.359+0800	INFO	logger/logger.go:48	EventBus closed successfully
2025-10-15T01:31:41.359+0800	INFO	logger/logger.go:48	Global EventBus closed successfully
=== RUN   TestHealthCheckFailureScenarios/PublisherFailureRecovery
2025-10-15T01:31:41.359+0800	INFO	logger/logger.go:48	Memory eventbus initialized successfully
2025-10-15T01:31:41.359+0800	INFO	logger/logger.go:48	EventBus created successfullytypememory
2025-10-15T01:31:41.359+0800	INFO	logger/logger.go:48	Global EventBus initialized successfullytypememory
2025-10-15T01:31:41.359+0800	INFO	logger/logger.go:48	EventBus initialized from unified config successfullytypememoryserviceNametest-servicehealthCheckEnabledtruepublisherConfiguredtruesubscriberConfiguredtrue
2025-10-15T01:31:41.359+0800	INFO	logger/logger.go:48	Health checker startedsourcememory-eventbuseventBusTypememorytopictest-recoveryinterval1s
2025-10-15T01:31:41.360+0800	INFO	logger/logger.go:48	Health check publisher started for memory eventbus
2025-10-15T01:31:41.360+0800	INFO	logger/logger.go:48	Subscribed to topic in memory eventbustopictest-recoverytotalSubscribers1
2025-10-15T01:31:41.360+0800	INFO	logger/logger.go:48	Successfully subscribed to topictopictest-recovery
2025-10-15T01:31:41.360+0800	INFO	logger/logger.go:48	Health check subscriber startedsourcememory-eventbuseventBusTypememorytopictest-recoveryexpectedInterval1s
2025-10-15T01:31:41.360+0800	INFO	logger/logger.go:48	Health check subscriber started for memory eventbus
2025-10-15T01:31:41.360+0800	DEBUG	logger/logger.go:64	Health check monitoring loop startedsourcememory-eventbusmonitorInterval500msexpectedInterval1s
2025-10-15T01:31:41.360+0800	DEBUG	logger/logger.go:64	Message published to memory eventbustopictest-recoverysubscribers1
2025-10-15T01:31:41.360+0800	DEBUG	logger/logger.go:64	Message published successfullytopictest-recoverysize250
2025-10-15T01:31:41.360+0800	DEBUG	logger/logger.go:64	Health check succeededsourcememory-eventbusduration0stopictest-recovery
2025-10-15T01:31:41.360+0800	DEBUG	logger/logger.go:64	Received health check messagesourcememory-eventbusmessageSourcememory-eventbusmessageIdhc-1760463101360271900-8219cdb8f5fa3da5eventBusTypememorytimestamp2025-10-15 01:31:41.3602719 +0800 CST
2025-10-15T01:31:41.360+0800	DEBUG	logger/logger.go:64	Message processed successfullytopictest-recoverysize250
2025-10-15T01:31:42.361+0800	DEBUG	logger/logger.go:64	Message published to memory eventbustopictest-recoverysubscribers1
2025-10-15T01:31:42.362+0800	DEBUG	logger/logger.go:64	Message published successfullytopictest-recoverysize250
2025-10-15T01:31:42.362+0800	DEBUG	logger/logger.go:64	Health check succeededsourcememory-eventbusduration1.1185mstopictest-recovery
2025-10-15T01:31:42.362+0800	DEBUG	logger/logger.go:64	Received health check messagesourcememory-eventbusmessageSourcememory-eventbusmessageIdhc-1760463102361058200-fb9c406af35422d9eventBusTypememorytimestamp2025-10-15 01:31:42.3610582 +0800 CST
2025-10-15T01:31:42.362+0800	DEBUG	logger/logger.go:64	Message processed successfullytopictest-recoverysize250
2025-10-15T01:31:42.362+0800	WARN	logger/logger.go:72	Health check alert triggeredsourcememory-eventbusalertTypeno_messagesseverityerrormessageNo health check messages received for 1.0004272s (consecutive misses: 1)timeSinceLastMsg1.0004272sconsecutiveMisses1
github.com/ChenBigdata421/jxt-core/sdk/pkg/logger.Warn
	D:/JXT/jxt-evidence-system/jxt-core/sdk/pkg/logger/logger.go:72
github.com/ChenBigdata421/jxt-core/sdk/pkg/eventbus.(*HealthCheckSubscriber).triggerAlert
	D:/JXT/jxt-evidence-system/jxt-core/sdk/pkg/eventbus/health_check_subscriber.go:310
github.com/ChenBigdata421/jxt-core/sdk/pkg/eventbus.(*HealthCheckSubscriber).checkHealthStatus
	D:/JXT/jxt-evidence-system/jxt-core/sdk/pkg/eventbus/health_check_subscriber.go:271
github.com/ChenBigdata421/jxt-core/sdk/pkg/eventbus.(*HealthCheckSubscriber).monitoringLoop
	D:/JXT/jxt-evidence-system/jxt-core/sdk/pkg/eventbus/health_check_subscriber.go:238
2025-10-15T01:31:43.360+0800	DEBUG	logger/logger.go:64	Message published to memory eventbustopictest-recoverysubscribers1
2025-10-15T01:31:43.361+0800	DEBUG	logger/logger.go:64	Message published successfullytopictest-recoverysize250
2025-10-15T01:31:43.361+0800	DEBUG	logger/logger.go:64	Health check succeededsourcememory-eventbusduration553µstopictest-recovery
2025-10-15T01:31:43.361+0800	DEBUG	logger/logger.go:64	Received health check messagesourcememory-eventbusmessageSourcememory-eventbusmessageIdhc-1760463103360866200-3264e823628afe36eventBusTypememorytimestamp2025-10-15 01:31:43.3608662 +0800 CST
2025-10-15T01:31:43.361+0800	DEBUG	logger/logger.go:64	Message processed successfullytopictest-recoverysize250
2025-10-15T01:31:43.361+0800	INFO	logger/logger.go:48	Health checker stoppedsourcememory-eventbus
2025-10-15T01:31:43.361+0800	INFO	logger/logger.go:48	Health check publisher stopped for memory eventbus
2025-10-15T01:31:44.861+0800	WARN	logger/logger.go:72	Health check alert triggeredsourcememory-eventbusalertTypeno_messagesseverityerrormessageNo health check messages received for 1.4998578s (consecutive misses: 1)timeSinceLastMsg1.4998578sconsecutiveMisses1
github.com/ChenBigdata421/jxt-core/sdk/pkg/logger.Warn
	D:/JXT/jxt-evidence-system/jxt-core/sdk/pkg/logger/logger.go:72
github.com/ChenBigdata421/jxt-core/sdk/pkg/eventbus.(*HealthCheckSubscriber).triggerAlert
	D:/JXT/jxt-evidence-system/jxt-core/sdk/pkg/eventbus/health_check_subscriber.go:310
github.com/ChenBigdata421/jxt-core/sdk/pkg/eventbus.(*HealthCheckSubscriber).checkHealthStatus
	D:/JXT/jxt-evidence-system/jxt-core/sdk/pkg/eventbus/health_check_subscriber.go:271
github.com/ChenBigdata421/jxt-core/sdk/pkg/eventbus.(*HealthCheckSubscriber).monitoringLoop
	D:/JXT/jxt-evidence-system/jxt-core/sdk/pkg/eventbus/health_check_subscriber.go:238
2025-10-15T01:31:45.360+0800	ERROR	logger/logger.go:80	Health check alert triggeredsourcememory-eventbusalertTypeno_messagesseveritycriticalmessageNo health check messages received for 1.9994105s (consecutive misses: 2)timeSinceLastMsg1.9994105sconsecutiveMisses2
github.com/ChenBigdata421/jxt-core/sdk/pkg/logger.Error
	D:/JXT/jxt-evidence-system/jxt-core/sdk/pkg/logger/logger.go:80
github.com/ChenBigdata421/jxt-core/sdk/pkg/eventbus.(*HealthCheckSubscriber).triggerAlert
	D:/JXT/jxt-evidence-system/jxt-core/sdk/pkg/eventbus/health_check_subscriber.go:310
github.com/ChenBigdata421/jxt-core/sdk/pkg/eventbus.(*HealthCheckSubscriber).checkHealthStatus
	D:/JXT/jxt-evidence-system/jxt-core/sdk/pkg/eventbus/health_check_subscriber.go:271
github.com/ChenBigdata421/jxt-core/sdk/pkg/eventbus.(*HealthCheckSubscriber).monitoringLoop
	D:/JXT/jxt-evidence-system/jxt-core/sdk/pkg/eventbus/health_check_subscriber.go:238
2025-10-15T01:31:45.860+0800	ERROR	logger/logger.go:80	Health check alert triggeredsourcememory-eventbusalertTypeno_messagesseveritycriticalmessageNo health check messages received for 2.4993349s (consecutive misses: 3)timeSinceLastMsg2.4993349sconsecutiveMisses3
github.com/ChenBigdata421/jxt-core/sdk/pkg/logger.Error
	D:/JXT/jxt-evidence-system/jxt-core/sdk/pkg/logger/logger.go:80
github.com/ChenBigdata421/jxt-core/sdk/pkg/eventbus.(*HealthCheckSubscriber).triggerAlert
	D:/JXT/jxt-evidence-system/jxt-core/sdk/pkg/eventbus/health_check_subscriber.go:310
github.com/ChenBigdata421/jxt-core/sdk/pkg/eventbus.(*HealthCheckSubscriber).checkHealthStatus
	D:/JXT/jxt-evidence-system/jxt-core/sdk/pkg/eventbus/health_check_subscriber.go:271
github.com/ChenBigdata421/jxt-core/sdk/pkg/eventbus.(*HealthCheckSubscriber).monitoringLoop
	D:/JXT/jxt-evidence-system/jxt-core/sdk/pkg/eventbus/health_check_subscriber.go:238
2025-10-15T01:31:46.360+0800	ERROR	logger/logger.go:80	Health check alert triggeredsourcememory-eventbusalertTypeno_messagesseveritycriticalmessageNo health check messages received for 2.9993549s (consecutive misses: 4)timeSinceLastMsg2.9993549sconsecutiveMisses4
github.com/ChenBigdata421/jxt-core/sdk/pkg/logger.Error
	D:/JXT/jxt-evidence-system/jxt-core/sdk/pkg/logger/logger.go:80
github.com/ChenBigdata421/jxt-core/sdk/pkg/eventbus.(*HealthCheckSubscriber).triggerAlert
	D:/JXT/jxt-evidence-system/jxt-core/sdk/pkg/eventbus/health_check_subscriber.go:310
github.com/ChenBigdata421/jxt-core/sdk/pkg/eventbus.(*HealthCheckSubscriber).checkHealthStatus
	D:/JXT/jxt-evidence-system/jxt-core/sdk/pkg/eventbus/health_check_subscriber.go:271
github.com/ChenBigdata421/jxt-core/sdk/pkg/eventbus.(*HealthCheckSubscriber).monitoringLoop
	D:/JXT/jxt-evidence-system/jxt-core/sdk/pkg/eventbus/health_check_subscriber.go:238
2025-10-15T01:31:46.362+0800	INFO	logger/logger.go:48	Health checker startedsourcememory-eventbuseventBusTypememorytopictest-recoveryinterval1s
2025-10-15T01:31:46.362+0800	INFO	logger/logger.go:48	Health check publisher started for memory eventbus
2025-10-15T01:31:46.362+0800	DEBUG	logger/logger.go:64	Message published to memory eventbustopictest-recoverysubscribers1
2025-10-15T01:31:46.362+0800	DEBUG	logger/logger.go:64	Message published successfullytopictest-recoverysize250
2025-10-15T01:31:46.362+0800	DEBUG	logger/logger.go:64	Received health check messagesourcememory-eventbusmessageSourcememory-eventbusmessageIdhc-1760463106362013300-c7db1eaf7abb4521eventBusTypememorytimestamp2025-10-15 01:31:46.3620133 +0800 CST
2025-10-15T01:31:46.362+0800	DEBUG	logger/logger.go:64	Health check succeededsourcememory-eventbusduration0stopictest-recovery
2025-10-15T01:31:46.362+0800	DEBUG	logger/logger.go:64	Message processed successfullytopictest-recoverysize250
2025-10-15T01:31:47.362+0800	DEBUG	logger/logger.go:64	Message published to memory eventbustopictest-recoverysubscribers1
2025-10-15T01:31:47.362+0800	DEBUG	logger/logger.go:64	Message published successfullytopictest-recoverysize250
2025-10-15T01:31:47.362+0800	DEBUG	logger/logger.go:64	Health check succeededsourcememory-eventbusduration0stopictest-recovery
2025-10-15T01:31:47.362+0800	DEBUG	logger/logger.go:64	Received health check messagesourcememory-eventbusmessageSourcememory-eventbusmessageIdhc-1760463107362659600-73f51639ca9da079eventBusTypememorytimestamp2025-10-15 01:31:47.3626596 +0800 CST
2025-10-15T01:31:47.362+0800	DEBUG	logger/logger.go:64	Message processed successfullytopictest-recoverysize250
    health_check_integration_test.go:726: Recovery test stats: {StartTime:2025-10-15 01:31:41.3602719 +0800 CST m=+4.169281001 LastMessageTime:2025-10-15 01:31:47.3626596 +0800 CST m=+10.171668701 TotalMessagesReceived:5 ConsecutiveMisses:0 TotalAlerts:5 LastAlertTime:2025-10-15 01:31:46.3607741 +0800 CST m=+9.169783201 IsHealthy:true UptimeSeconds:7.0022271}
2025-10-15T01:31:48.362+0800	DEBUG	logger/logger.go:64	Message published to memory eventbustopictest-recoverysubscribers1
2025-10-15T01:31:48.362+0800	DEBUG	logger/logger.go:64	Message published successfullytopictest-recoverysize249
2025-10-15T01:31:48.362+0800	DEBUG	logger/logger.go:64	Health check succeededsourcememory-eventbusduration0stopictest-recovery
2025-10-15T01:31:48.362+0800	DEBUG	logger/logger.go:64	Received health check messagesourcememory-eventbusmessageSourcememory-eventbusmessageIdhc-1760463108362499000-7bb29852e3030e19eventBusTypememorytimestamp2025-10-15 01:31:48.362499 +0800 CST
2025-10-15T01:31:48.362+0800	DEBUG	logger/logger.go:64	Message processed successfullytopictest-recoverysize249
2025-10-15T01:31:48.362+0800	DEBUG	logger/logger.go:64	Stopping health check publisher before closing EventBus
2025-10-15T01:31:48.362+0800	INFO	logger/logger.go:48	Health checker stoppedsourcememory-eventbus
2025-10-15T01:31:48.362+0800	DEBUG	logger/logger.go:64	Stopping health check subscriber before closing EventBus
2025-10-15T01:31:48.362+0800	DEBUG	logger/logger.go:64	Health check monitoring loop stoppedsourcememory-eventbus
2025-10-15T01:31:48.362+0800	INFO	logger/logger.go:48	Health check subscriber stoppedsourcememory-eventbuseventBusTypememory
2025-10-15T01:31:48.362+0800	DEBUG	logger/logger.go:64	Memory publisher closed
2025-10-15T01:31:48.362+0800	DEBUG	logger/logger.go:64	Memory subscriber closed
2025-10-15T01:31:48.362+0800	INFO	logger/logger.go:48	EventBus closed successfully
2025-10-15T01:31:48.362+0800	INFO	logger/logger.go:48	Global EventBus closed successfully
=== RUN   TestHealthCheckFailureScenarios/CallbackErrorHandling
2025-10-15T01:31:48.363+0800	INFO	logger/logger.go:48	Memory eventbus initialized successfully
2025-10-15T01:31:48.363+0800	INFO	logger/logger.go:48	EventBus created successfullytypememory
2025-10-15T01:31:48.363+0800	INFO	logger/logger.go:48	Global EventBus initialized successfullytypememory
2025-10-15T01:31:48.363+0800	INFO	logger/logger.go:48	EventBus initialized from unified config successfullytypememoryserviceNametest-servicehealthCheckEnabledtruepublisherConfiguredtruesubscriberConfiguredtrue
2025-10-15T01:31:48.363+0800	INFO	logger/logger.go:48	Subscribed to topic in memory eventbustopictest-callback-errortotalSubscribers1
2025-10-15T01:31:48.363+0800	INFO	logger/logger.go:48	Successfully subscribed to topictopictest-callback-error
2025-10-15T01:31:48.363+0800	INFO	logger/logger.go:48	Health check subscriber startedsourcememory-eventbuseventBusTypememorytopictest-callback-errorexpectedInterval10s
2025-10-15T01:31:48.363+0800	INFO	logger/logger.go:48	Health check subscriber started for memory eventbus
2025-10-15T01:31:48.363+0800	DEBUG	logger/logger.go:64	Health check monitoring loop startedsourcememory-eventbusmonitorInterval1sexpectedInterval10s
    health_check_integration_test.go:783: Expected callback to be called, but it wasn't
    health_check_integration_test.go:791: Subscriber is unhealthy as expected: {StartTime:2025-10-15 01:31:48.3632222 +0800 CST m=+11.172231301 LastMessageTime:0001-01-01 00:00:00 +0000 UTC TotalMessagesReceived:0 ConsecutiveMisses:0 TotalAlerts:0 LastAlertTime:0001-01-01 00:00:00 +0000 UTC IsHealthy:false UptimeSeconds:3.0004596}
2025-10-15T01:31:51.364+0800	DEBUG	logger/logger.go:64	Stopping health check subscriber before closing EventBus
2025-10-15T01:31:51.364+0800	DEBUG	logger/logger.go:64	Health check monitoring loop stoppedsourcememory-eventbus
2025-10-15T01:31:51.364+0800	INFO	logger/logger.go:48	Health check subscriber stoppedsourcememory-eventbuseventBusTypememory
2025-10-15T01:31:51.364+0800	DEBUG	logger/logger.go:64	Memory publisher closed
2025-10-15T01:31:51.364+0800	DEBUG	logger/logger.go:64	Memory subscriber closed
2025-10-15T01:31:51.364+0800	INFO	logger/logger.go:48	EventBus closed successfully
2025-10-15T01:31:51.364+0800	INFO	logger/logger.go:48	Global EventBus closed successfully
--- FAIL: TestHealthCheckFailureScenarios (14.01s)
    --- FAIL: TestHealthCheckFailureScenarios/SubscriberTimeoutDetection (4.00s)
    --- PASS: TestHealthCheckFailureScenarios/PublisherFailureRecovery (7.00s)
    --- FAIL: TestHealthCheckFailureScenarios/CallbackErrorHandling (3.00s)
=== RUN   TestHealthCheckStability
2025-10-15T01:31:51.365+0800	INFO	logger/logger.go:48	Memory eventbus initialized successfully
2025-10-15T01:31:51.365+0800	INFO	logger/logger.go:48	EventBus created successfullytypememory
2025-10-15T01:31:51.365+0800	INFO	logger/logger.go:48	Global EventBus initialized successfullytypememory
2025-10-15T01:31:51.365+0800	INFO	logger/logger.go:48	EventBus initialized from unified config successfullytypememoryserviceNametest-servicehealthCheckEnabledtruepublisherConfiguredtruesubscriberConfiguredtrue
2025-10-15T01:31:51.365+0800	INFO	logger/logger.go:48	Health checker startedsourcememory-eventbuseventBusTypememorytopictest-stabilityinterval500ms
2025-10-15T01:31:51.365+0800	INFO	logger/logger.go:48	Health check publisher started for memory eventbus
2025-10-15T01:31:51.365+0800	INFO	logger/logger.go:48	Subscribed to topic in memory eventbustopictest-stabilitytotalSubscribers1
2025-10-15T01:31:51.365+0800	INFO	logger/logger.go:48	Successfully subscribed to topictopictest-stability
2025-10-15T01:31:51.365+0800	INFO	logger/logger.go:48	Health check subscriber startedsourcememory-eventbuseventBusTypememorytopictest-stabilityexpectedInterval500ms
2025-10-15T01:31:51.365+0800	INFO	logger/logger.go:48	Health check subscriber started for memory eventbus
    health_check_integration_test.go:918: Running stability test for 10s
2025-10-15T01:31:51.365+0800	DEBUG	logger/logger.go:64	Health check monitoring loop startedsourcememory-eventbusmonitorInterval1sexpectedInterval500ms
2025-10-15T01:31:51.365+0800	DEBUG	logger/logger.go:64	Message published to memory eventbustopictest-stabilitysubscribers1
2025-10-15T01:31:51.365+0800	DEBUG	logger/logger.go:64	Message published successfullytopictest-stabilitysize250
2025-10-15T01:31:51.365+0800	DEBUG	logger/logger.go:64	Health check succeededsourcememory-eventbusduration0stopictest-stability
2025-10-15T01:31:51.365+0800	DEBUG	logger/logger.go:64	Received health check messagesourcememory-eventbusmessageSourcememory-eventbusmessageIdhc-1760463111365092900-aa0eca1316020764eventBusTypememorytimestamp2025-10-15 01:31:51.3650929 +0800 CST
2025-10-15T01:31:51.365+0800	DEBUG	logger/logger.go:64	Message processed successfullytopictest-stabilitysize250
2025-10-15T01:31:51.865+0800	DEBUG	logger/logger.go:64	Message published to memory eventbustopictest-stabilitysubscribers1
2025-10-15T01:31:51.865+0800	DEBUG	logger/logger.go:64	Message published successfullytopictest-stabilitysize250
2025-10-15T01:31:51.865+0800	DEBUG	logger/logger.go:64	Health check succeededsourcememory-eventbusduration0stopictest-stability
2025-10-15T01:31:51.865+0800	DEBUG	logger/logger.go:64	Received health check messagesourcememory-eventbusmessageSourcememory-eventbusmessageIdhc-1760463111865244600-19503aa126da4c41eventBusTypememorytimestamp2025-10-15 01:31:51.8652446 +0800 CST
2025-10-15T01:31:51.865+0800	DEBUG	logger/logger.go:64	Message processed successfullytopictest-stabilitysize250
2025-10-15T01:31:52.365+0800	WARN	logger/logger.go:72	Health check alert triggeredsourcememory-eventbusalertTypeno_messagesseverityerrormessageNo health check messages received for 500.5747ms (consecutive misses: 1)timeSinceLastMsg500.5747msconsecutiveMisses1
github.com/ChenBigdata421/jxt-core/sdk/pkg/logger.Warn
	D:/JXT/jxt-evidence-system/jxt-core/sdk/pkg/logger/logger.go:72
github.com/ChenBigdata421/jxt-core/sdk/pkg/eventbus.(*HealthCheckSubscriber).triggerAlert
	D:/JXT/jxt-evidence-system/jxt-core/sdk/pkg/eventbus/health_check_subscriber.go:310
github.com/ChenBigdata421/jxt-core/sdk/pkg/eventbus.(*HealthCheckSubscriber).checkHealthStatus
	D:/JXT/jxt-evidence-system/jxt-core/sdk/pkg/eventbus/health_check_subscriber.go:271
github.com/ChenBigdata421/jxt-core/sdk/pkg/eventbus.(*HealthCheckSubscriber).monitoringLoop
	D:/JXT/jxt-evidence-system/jxt-core/sdk/pkg/eventbus/health_check_subscriber.go:238
2025-10-15T01:31:52.366+0800	DEBUG	logger/logger.go:64	Message published to memory eventbustopictest-stabilitysubscribers1
2025-10-15T01:31:52.366+0800	DEBUG	logger/logger.go:64	Message published successfullytopictest-stabilitysize250
2025-10-15T01:31:52.366+0800	DEBUG	logger/logger.go:64	Health check succeededsourcememory-eventbusduration330.8µstopictest-stability
2025-10-15T01:31:52.366+0800	DEBUG	logger/logger.go:64	Received health check messagesourcememory-eventbusmessageSourcememory-eventbusmessageIdhc-1760463112365819300-164a42144030e349eventBusTypememorytimestamp2025-10-15 01:31:52.3658193 +0800 CST
2025-10-15T01:31:52.366+0800	DEBUG	logger/logger.go:64	Message processed successfullytopictest-stabilitysize250
2025-10-15T01:31:52.865+0800	DEBUG	logger/logger.go:64	Message published to memory eventbustopictest-stabilitysubscribers1
2025-10-15T01:31:52.865+0800	DEBUG	logger/logger.go:64	Message published successfullytopictest-stabilitysize250
2025-10-15T01:31:52.865+0800	DEBUG	logger/logger.go:64	Health check succeededsourcememory-eventbusduration0stopictest-stability
2025-10-15T01:31:52.865+0800	DEBUG	logger/logger.go:64	Received health check messagesourcememory-eventbusmessageSourcememory-eventbusmessageIdhc-1760463112865505700-c7680f663837304feventBusTypememorytimestamp2025-10-15 01:31:52.8655057 +0800 CST
2025-10-15T01:31:52.865+0800	DEBUG	logger/logger.go:64	Message processed successfullytopictest-stabilitysize250
2025-10-15T01:31:53.365+0800	WARN	logger/logger.go:72	Health check alert triggeredsourcememory-eventbusalertTypeno_messagesseverityerrormessageNo health check messages received for 500.3022ms (consecutive misses: 1)timeSinceLastMsg500.3022msconsecutiveMisses1
github.com/ChenBigdata421/jxt-core/sdk/pkg/logger.Warn
	D:/JXT/jxt-evidence-system/jxt-core/sdk/pkg/logger/logger.go:72
github.com/ChenBigdata421/jxt-core/sdk/pkg/eventbus.(*HealthCheckSubscriber).triggerAlert
	D:/JXT/jxt-evidence-system/jxt-core/sdk/pkg/eventbus/health_check_subscriber.go:310
github.com/ChenBigdata421/jxt-core/sdk/pkg/eventbus.(*HealthCheckSubscriber).checkHealthStatus
	D:/JXT/jxt-evidence-system/jxt-core/sdk/pkg/eventbus/health_check_subscriber.go:271
github.com/ChenBigdata421/jxt-core/sdk/pkg/eventbus.(*HealthCheckSubscriber).monitoringLoop
	D:/JXT/jxt-evidence-system/jxt-core/sdk/pkg/eventbus/health_check_subscriber.go:238
2025-10-15T01:31:53.365+0800	DEBUG	logger/logger.go:64	Message published to memory eventbustopictest-stabilitysubscribers1
2025-10-15T01:31:53.365+0800	DEBUG	logger/logger.go:64	Message published successfullytopictest-stabilitysize250
2025-10-15T01:31:53.365+0800	DEBUG	logger/logger.go:64	Health check succeededsourcememory-eventbusduration0stopictest-stability
2025-10-15T01:31:53.365+0800	DEBUG	logger/logger.go:64	Received health check messagesourcememory-eventbusmessageSourcememory-eventbusmessageIdhc-1760463113365807900-29ab773a8f4f7c19eventBusTypememorytimestamp2025-10-15 01:31:53.3658079 +0800 CST
2025-10-15T01:31:53.365+0800	DEBUG	logger/logger.go:64	Message processed successfullytopictest-stabilitysize250
2025-10-15T01:31:53.865+0800	DEBUG	logger/logger.go:64	Message published to memory eventbustopictest-stabilitysubscribers1
2025-10-15T01:31:53.865+0800	DEBUG	logger/logger.go:64	Message published successfullytopictest-stabilitysize250
2025-10-15T01:31:53.865+0800	DEBUG	logger/logger.go:64	Health check succeededsourcememory-eventbusduration0stopictest-stability
2025-10-15T01:31:53.865+0800	DEBUG	logger/logger.go:64	Received health check messagesourcememory-eventbusmessageSourcememory-eventbusmessageIdhc-1760463113865581700-f42701a2408f3cd9eventBusTypememorytimestamp2025-10-15 01:31:53.8655817 +0800 CST
2025-10-15T01:31:53.865+0800	DEBUG	logger/logger.go:64	Message processed successfullytopictest-stabilitysize250
2025-10-15T01:31:54.365+0800	DEBUG	logger/logger.go:64	Message published to memory eventbustopictest-stabilitysubscribers1
2025-10-15T01:31:54.365+0800	DEBUG	logger/logger.go:64	Message published successfullytopictest-stabilitysize249
2025-10-15T01:31:54.365+0800	DEBUG	logger/logger.go:64	Health check succeededsourcememory-eventbusduration0stopictest-stability
2025-10-15T01:31:54.365+0800	DEBUG	logger/logger.go:64	Received health check messagesourcememory-eventbusmessageSourcememory-eventbusmessageIdhc-1760463114365217000-c7f20cc4c7f3d15ceventBusTypememorytimestamp2025-10-15 01:31:54.365217 +0800 CST
2025-10-15T01:31:54.365+0800	DEBUG	logger/logger.go:64	Message processed successfullytopictest-stabilitysize249
2025-10-15T01:31:54.865+0800	DEBUG	logger/logger.go:64	Message published to memory eventbustopictest-stabilitysubscribers1
2025-10-15T01:31:54.865+0800	DEBUG	logger/logger.go:64	Message published successfullytopictest-stabilitysize250
2025-10-15T01:31:54.865+0800	DEBUG	logger/logger.go:64	Health check succeededsourcememory-eventbusduration0stopictest-stability
2025-10-15T01:31:54.865+0800	DEBUG	logger/logger.go:64	Received health check messagesourcememory-eventbusmessageSourcememory-eventbusmessageIdhc-1760463114865302100-75a3b4a2e1558ec3eventBusTypememorytimestamp2025-10-15 01:31:54.8653021 +0800 CST
2025-10-15T01:31:54.865+0800	DEBUG	logger/logger.go:64	Message processed successfullytopictest-stabilitysize250
2025-10-15T01:31:55.365+0800	WARN	logger/logger.go:72	Health check alert triggeredsourcememory-eventbusalertTypeno_messagesseverityerrormessageNo health check messages received for 500.0931ms (consecutive misses: 1)timeSinceLastMsg500.0931msconsecutiveMisses1
github.com/ChenBigdata421/jxt-core/sdk/pkg/logger.Warn
	D:/JXT/jxt-evidence-system/jxt-core/sdk/pkg/logger/logger.go:72
github.com/ChenBigdata421/jxt-core/sdk/pkg/eventbus.(*HealthCheckSubscriber).triggerAlert
	D:/JXT/jxt-evidence-system/jxt-core/sdk/pkg/eventbus/health_check_subscriber.go:310
github.com/ChenBigdata421/jxt-core/sdk/pkg/eventbus.(*HealthCheckSubscriber).checkHealthStatus
	D:/JXT/jxt-evidence-system/jxt-core/sdk/pkg/eventbus/health_check_subscriber.go:271
github.com/ChenBigdata421/jxt-core/sdk/pkg/eventbus.(*HealthCheckSubscriber).monitoringLoop
	D:/JXT/jxt-evidence-system/jxt-core/sdk/pkg/eventbus/health_check_subscriber.go:238
2025-10-15T01:31:55.365+0800	DEBUG	logger/logger.go:64	Message published to memory eventbustopictest-stabilitysubscribers1
2025-10-15T01:31:55.365+0800	DEBUG	logger/logger.go:64	Message published successfullytopictest-stabilitysize250
2025-10-15T01:31:55.365+0800	DEBUG	logger/logger.go:64	Health check succeededsourcememory-eventbusduration0stopictest-stability
2025-10-15T01:31:55.365+0800	DEBUG	logger/logger.go:64	Received health check messagesourcememory-eventbusmessageSourcememory-eventbusmessageIdhc-1760463115365395200-1a4dccae7922b79aeventBusTypememorytimestamp2025-10-15 01:31:55.3653952 +0800 CST
2025-10-15T01:31:55.365+0800	DEBUG	logger/logger.go:64	Message processed successfullytopictest-stabilitysize250
2025-10-15T01:31:55.865+0800	DEBUG	logger/logger.go:64	Message published to memory eventbustopictest-stabilitysubscribers1
2025-10-15T01:31:55.865+0800	DEBUG	logger/logger.go:64	Message published successfullytopictest-stabilitysize250
2025-10-15T01:31:55.865+0800	DEBUG	logger/logger.go:64	Health check succeededsourcememory-eventbusduration0stopictest-stability
2025-10-15T01:31:55.865+0800	DEBUG	logger/logger.go:64	Received health check messagesourcememory-eventbusmessageSourcememory-eventbusmessageIdhc-1760463115865634700-b6e4589fecf42debeventBusTypememorytimestamp2025-10-15 01:31:55.8656347 +0800 CST
2025-10-15T01:31:55.865+0800	DEBUG	logger/logger.go:64	Message processed successfullytopictest-stabilitysize250
2025-10-15T01:31:56.365+0800	DEBUG	logger/logger.go:64	Message published to memory eventbustopictest-stabilitysubscribers1
2025-10-15T01:31:56.365+0800	DEBUG	logger/logger.go:64	Message published successfullytopictest-stabilitysize250
2025-10-15T01:31:56.365+0800	DEBUG	logger/logger.go:64	Health check succeededsourcememory-eventbusduration0stopictest-stability
2025-10-15T01:31:56.365+0800	DEBUG	logger/logger.go:64	Received health check messagesourcememory-eventbusmessageSourcememory-eventbusmessageIdhc-1760463116365540400-5d9550da52d01cf2eventBusTypememorytimestamp2025-10-15 01:31:56.3655404 +0800 CST
2025-10-15T01:31:56.365+0800	DEBUG	logger/logger.go:64	Message processed successfullytopictest-stabilitysize250
2025-10-15T01:31:56.865+0800	DEBUG	logger/logger.go:64	Message published to memory eventbustopictest-stabilitysubscribers1
2025-10-15T01:31:56.865+0800	DEBUG	logger/logger.go:64	Message published successfullytopictest-stabilitysize250
2025-10-15T01:31:56.865+0800	DEBUG	logger/logger.go:64	Health check succeededsourcememory-eventbusduration0stopictest-stability
2025-10-15T01:31:56.865+0800	DEBUG	logger/logger.go:64	Received health check messagesourcememory-eventbusmessageSourcememory-eventbusmessageIdhc-1760463116865941800-ff4def88e4233ab0eventBusTypememorytimestamp2025-10-15 01:31:56.8659418 +0800 CST
2025-10-15T01:31:56.865+0800	DEBUG	logger/logger.go:64	Message processed successfullytopictest-stabilitysize250
2025-10-15T01:31:57.365+0800	DEBUG	logger/logger.go:64	Message published to memory eventbustopictest-stabilitysubscribers1
2025-10-15T01:31:57.365+0800	DEBUG	logger/logger.go:64	Message published successfullytopictest-stabilitysize250
2025-10-15T01:31:57.365+0800	DEBUG	logger/logger.go:64	Health check succeededsourcememory-eventbusduration0stopictest-stability
2025-10-15T01:31:57.365+0800	DEBUG	logger/logger.go:64	Received health check messagesourcememory-eventbusmessageSourcememory-eventbusmessageIdhc-1760463117365252800-00aea0160569aeabeventBusTypememorytimestamp2025-10-15 01:31:57.3652528 +0800 CST
2025-10-15T01:31:57.365+0800	DEBUG	logger/logger.go:64	Message processed successfullytopictest-stabilitysize250
2025-10-15T01:31:57.865+0800	DEBUG	logger/logger.go:64	Message published to memory eventbustopictest-stabilitysubscribers1
2025-10-15T01:31:57.865+0800	DEBUG	logger/logger.go:64	Message published successfullytopictest-stabilitysize250
2025-10-15T01:31:57.865+0800	DEBUG	logger/logger.go:64	Health check succeededsourcememory-eventbusduration0stopictest-stability
2025-10-15T01:31:57.865+0800	DEBUG	logger/logger.go:64	Received health check messagesourcememory-eventbusmessageSourcememory-eventbusmessageIdhc-1760463117865382500-815c62efc339d77feventBusTypememorytimestamp2025-10-15 01:31:57.8653825 +0800 CST
2025-10-15T01:31:57.865+0800	DEBUG	logger/logger.go:64	Message processed successfullytopictest-stabilitysize250
2025-10-15T01:31:58.365+0800	DEBUG	logger/logger.go:64	Message published to memory eventbustopictest-stabilitysubscribers1
2025-10-15T01:31:58.365+0800	DEBUG	logger/logger.go:64	Message published successfullytopictest-stabilitysize250
2025-10-15T01:31:58.365+0800	DEBUG	logger/logger.go:64	Health check succeededsourcememory-eventbusduration0stopictest-stability
2025-10-15T01:31:58.365+0800	DEBUG	logger/logger.go:64	Received health check messagesourcememory-eventbusmessageSourcememory-eventbusmessageIdhc-1760463118365221900-38754188db3b8258eventBusTypememorytimestamp2025-10-15 01:31:58.3652219 +0800 CST
2025-10-15T01:31:58.365+0800	DEBUG	logger/logger.go:64	Message processed successfullytopictest-stabilitysize250
2025-10-15T01:31:58.865+0800	DEBUG	logger/logger.go:64	Message published to memory eventbustopictest-stabilitysubscribers1
2025-10-15T01:31:58.865+0800	DEBUG	logger/logger.go:64	Message published successfullytopictest-stabilitysize250
2025-10-15T01:31:58.865+0800	DEBUG	logger/logger.go:64	Health check succeededsourcememory-eventbusduration0stopictest-stability
2025-10-15T01:31:58.865+0800	DEBUG	logger/logger.go:64	Received health check messagesourcememory-eventbusmessageSourcememory-eventbusmessageIdhc-1760463118865663800-ac741b8950792287eventBusTypememorytimestamp2025-10-15 01:31:58.8656638 +0800 CST
2025-10-15T01:31:58.865+0800	DEBUG	logger/logger.go:64	Message processed successfullytopictest-stabilitysize250
2025-10-15T01:31:59.365+0800	DEBUG	logger/logger.go:64	Message published to memory eventbustopictest-stabilitysubscribers1
2025-10-15T01:31:59.365+0800	DEBUG	logger/logger.go:64	Message published successfullytopictest-stabilitysize250
2025-10-15T01:31:59.365+0800	DEBUG	logger/logger.go:64	Health check succeededsourcememory-eventbusduration0stopictest-stability
2025-10-15T01:31:59.365+0800	DEBUG	logger/logger.go:64	Received health check messagesourcememory-eventbusmessageSourcememory-eventbusmessageIdhc-1760463119365278200-d284260103f40bf4eventBusTypememorytimestamp2025-10-15 01:31:59.3652782 +0800 CST
2025-10-15T01:31:59.365+0800	DEBUG	logger/logger.go:64	Message processed successfullytopictest-stabilitysize250
2025-10-15T01:31:59.865+0800	DEBUG	logger/logger.go:64	Message published to memory eventbustopictest-stabilitysubscribers1
2025-10-15T01:31:59.865+0800	DEBUG	logger/logger.go:64	Message published successfullytopictest-stabilitysize249
2025-10-15T01:31:59.865+0800	DEBUG	logger/logger.go:64	Health check succeededsourcememory-eventbusduration0stopictest-stability
2025-10-15T01:31:59.865+0800	DEBUG	logger/logger.go:64	Received health check messagesourcememory-eventbusmessageSourcememory-eventbusmessageIdhc-1760463119865765000-593f89eed0996bdfeventBusTypememorytimestamp2025-10-15 01:31:59.865765 +0800 CST
2025-10-15T01:31:59.865+0800	DEBUG	logger/logger.go:64	Message processed successfullytopictest-stabilitysize249
2025-10-15T01:32:00.366+0800	DEBUG	logger/logger.go:64	Message published to memory eventbustopictest-stabilitysubscribers1
2025-10-15T01:32:00.366+0800	DEBUG	logger/logger.go:64	Message published successfullytopictest-stabilitysize250
2025-10-15T01:32:00.366+0800	DEBUG	logger/logger.go:64	Health check succeededsourcememory-eventbusduration0stopictest-stability
2025-10-15T01:32:00.366+0800	DEBUG	logger/logger.go:64	Received health check messagesourcememory-eventbusmessageSourcememory-eventbusmessageIdhc-1760463120366556900-26fee489d77ffac8eventBusTypememorytimestamp2025-10-15 01:32:00.3665569 +0800 CST
2025-10-15T01:32:00.366+0800	DEBUG	logger/logger.go:64	Message processed successfullytopictest-stabilitysize250
2025-10-15T01:32:00.865+0800	DEBUG	logger/logger.go:64	Message published to memory eventbustopictest-stabilitysubscribers1
2025-10-15T01:32:00.865+0800	DEBUG	logger/logger.go:64	Message published successfullytopictest-stabilitysize250
2025-10-15T01:32:00.865+0800	DEBUG	logger/logger.go:64	Health check succeededsourcememory-eventbusduration0stopictest-stability
2025-10-15T01:32:00.865+0800	DEBUG	logger/logger.go:64	Received health check messagesourcememory-eventbusmessageSourcememory-eventbusmessageIdhc-1760463120865864700-20d2aa9aca07fcb4eventBusTypememorytimestamp2025-10-15 01:32:00.8658647 +0800 CST
2025-10-15T01:32:00.865+0800	DEBUG	logger/logger.go:64	Message processed successfullytopictest-stabilitysize250
2025-10-15T01:32:01.365+0800	DEBUG	logger/logger.go:64	Message published to memory eventbustopictest-stabilitysubscribers1
2025-10-15T01:32:01.365+0800	DEBUG	logger/logger.go:64	Message published successfullytopictest-stabilitysize249
2025-10-15T01:32:01.365+0800	DEBUG	logger/logger.go:64	Health check succeededsourcememory-eventbusduration0stopictest-stability
2025-10-15T01:32:01.365+0800	DEBUG	logger/logger.go:64	Received health check messagesourcememory-eventbusmessageSourcememory-eventbusmessageIdhc-1760463121365719000-1afb0d047af2b23beventBusTypememorytimestamp2025-10-15 01:32:01.365719 +0800 CST
2025-10-15T01:32:01.365+0800	DEBUG	logger/logger.go:64	Message processed successfullytopictest-stabilitysize249
    health_check_integration_test.go:923: Stability test results:
    health_check_integration_test.go:924:   Publisher healthy: true
    health_check_integration_test.go:925:   Publisher failures: 0
    health_check_integration_test.go:926:   Subscriber healthy: true
    health_check_integration_test.go:927:   Total messages: 21
    health_check_integration_test.go:928:   Total alerts: 3
    health_check_integration_test.go:929:   Uptime: 10.00 seconds
2025-10-15T01:32:01.365+0800	DEBUG	logger/logger.go:64	Stopping health check publisher before closing EventBus
2025-10-15T01:32:01.365+0800	INFO	logger/logger.go:48	Health checker stoppedsourcememory-eventbus
2025-10-15T01:32:01.365+0800	DEBUG	logger/logger.go:64	Stopping health check subscriber before closing EventBus
2025-10-15T01:32:01.365+0800	DEBUG	logger/logger.go:64	Health check monitoring loop stoppedsourcememory-eventbus
2025-10-15T01:32:01.365+0800	INFO	logger/logger.go:48	Health check subscriber stoppedsourcememory-eventbuseventBusTypememory
2025-10-15T01:32:01.365+0800	DEBUG	logger/logger.go:64	Memory publisher closed
2025-10-15T01:32:01.365+0800	DEBUG	logger/logger.go:64	Memory subscriber closed
2025-10-15T01:32:01.365+0800	INFO	logger/logger.go:48	EventBus closed successfully
2025-10-15T01:32:01.365+0800	INFO	logger/logger.go:48	Global EventBus closed successfully
--- PASS: TestHealthCheckStability (10.00s)
=== RUN   TestNewHealthChecker_DefaultConfig
2025-10-15T01:32:01.367+0800	INFO	logger/logger.go:48	Memory eventbus initialized successfully
2025-10-15T01:32:01.367+0800	DEBUG	logger/logger.go:64	Memory publisher closed
2025-10-15T01:32:01.367+0800	DEBUG	logger/logger.go:64	Memory subscriber closed
2025-10-15T01:32:01.367+0800	INFO	logger/logger.go:48	EventBus closed successfully
--- PASS: TestNewHealthChecker_DefaultConfig (0.00s)
=== RUN   TestHealthCheckSubscriber_DefaultConfig
2025-10-15T01:32:01.369+0800	INFO	logger/logger.go:48	Memory eventbus initialized successfully
2025-10-15T01:32:01.369+0800	DEBUG	logger/logger.go:64	Memory publisher closed
2025-10-15T01:32:01.369+0800	DEBUG	logger/logger.go:64	Memory subscriber closed
2025-10-15T01:32:01.369+0800	INFO	logger/logger.go:48	EventBus closed successfully
--- PASS: TestHealthCheckSubscriber_DefaultConfig (0.00s)
=== RUN   TestGetHealthCheckTopic_AllTypes
=== RUN   TestGetHealthCheckTopic_AllTypes/memory
=== RUN   TestGetHealthCheckTopic_AllTypes/kafka
=== RUN   TestGetHealthCheckTopic_AllTypes/nats
=== RUN   TestGetHealthCheckTopic_AllTypes/unknown
--- PASS: TestGetHealthCheckTopic_AllTypes (0.00s)
    --- PASS: TestGetHealthCheckTopic_AllTypes/memory (0.00s)
    --- PASS: TestGetHealthCheckTopic_AllTypes/kafka (0.00s)
    --- PASS: TestGetHealthCheckTopic_AllTypes/nats (0.00s)
    --- PASS: TestGetHealthCheckTopic_AllTypes/unknown (0.00s)
=== RUN   TestEventBusManager_PerformHealthCheck_Closed
2025-10-15T01:32:01.374+0800	INFO	logger/logger.go:48	Memory eventbus initialized successfully
2025-10-15T01:32:01.374+0800	DEBUG	logger/logger.go:64	Memory publisher closed
2025-10-15T01:32:01.374+0800	DEBUG	logger/logger.go:64	Memory subscriber closed
2025-10-15T01:32:01.374+0800	INFO	logger/logger.go:48	EventBus closed successfully
--- PASS: TestEventBusManager_PerformHealthCheck_Closed (0.00s)
=== RUN   TestEventBusManager_PerformEndToEndTest_Timeout
2025-10-15T01:32:01.375+0800	INFO	logger/logger.go:48	Memory eventbus initialized successfully
2025-10-15T01:32:01.375+0800	INFO	logger/logger.go:48	Subscribed to topic in memory eventbustopictest-e2e-topictotalSubscribers1
2025-10-15T01:32:01.476+0800	DEBUG	logger/logger.go:64	Message published to memory eventbustopictest-e2e-topicsubscribers1
2025-10-15T01:32:01.476+0800	DEBUG	logger/logger.go:64	End-to-end health check successfulpublishLatency0stotalLatency0smessagehealth-check-test
2025-10-15T01:32:01.476+0800	DEBUG	logger/logger.go:64	Memory publisher closed
2025-10-15T01:32:01.476+0800	DEBUG	logger/logger.go:64	Memory subscriber closed
2025-10-15T01:32:01.476+0800	INFO	logger/logger.go:48	EventBus closed successfully
--- PASS: TestEventBusManager_PerformEndToEndTest_Timeout (0.10s)
=== RUN   TestSetDefaults_Kafka
--- PASS: TestSetDefaults_Kafka (0.00s)
=== RUN   TestSetDefaults_KafkaPartial
--- PASS: TestSetDefaults_KafkaPartial (0.00s)
=== RUN   TestExtractAggregateIDFromTopics
=== RUN   TestExtractAggregateIDFromTopics/Simple_topic
    internal_test.go:387: Topic: debug.simple
    internal_test.go:388: Extracted AggregateID: 'simple'
    internal_test.go:389: Error: <nil>
    internal_test.go:390: Has AggregateID: true
=== RUN   TestExtractAggregateIDFromTopics/Topic_with_underscore
    internal_test.go:387: Topic: debug.test_1
    internal_test.go:388: Extracted AggregateID: 'test_1'
    internal_test.go:389: Error: <nil>
    internal_test.go:390: Has AggregateID: true
=== RUN   TestExtractAggregateIDFromTopics/Topic_with_dash
    internal_test.go:387: Topic: debug.test-1
    internal_test.go:388: Extracted AggregateID: 'test-1'
    internal_test.go:389: Error: <nil>
    internal_test.go:390: Has AggregateID: true
=== RUN   TestExtractAggregateIDFromTopics/Topic_with_special_char_@
    internal_test.go:387: Topic: debug.test@1
    internal_test.go:388: Extracted AggregateID: 'debug'
    internal_test.go:389: Error: <nil>
    internal_test.go:390: Has AggregateID: true
=== RUN   TestExtractAggregateIDFromTopics/Topic_with_numbers
    internal_test.go:387: Topic: debug.123
    internal_test.go:388: Extracted AggregateID: '123'
    internal_test.go:389: Error: <nil>
    internal_test.go:390: Has AggregateID: true
=== RUN   TestExtractAggregateIDFromTopics/Stage2_test_topic
    internal_test.go:387: Topic: stage2.1234567890.test_1
    internal_test.go:388: Extracted AggregateID: 'test_1'
    internal_test.go:389: Error: <nil>
    internal_test.go:390: Has AggregateID: true
=== RUN   TestExtractAggregateIDFromTopics/Stage2_test_topic_with_timestamp
    internal_test.go:387: Topic: stage2.�.test_1
    internal_test.go:388: Extracted AggregateID: 'test_1'
    internal_test.go:389: Error: <nil>
    internal_test.go:390: Has AggregateID: true
=== RUN   TestExtractAggregateIDFromTopics/Stage2_topic_with_special_chars
    internal_test.go:387: Topic: stage2@1234567890.test@1.msg#1
    internal_test.go:388: Extracted AggregateID: ''
    internal_test.go:389: Error: aggregate_id not found in any source
    internal_test.go:390: Has AggregateID: false
--- PASS: TestExtractAggregateIDFromTopics (0.00s)
    --- PASS: TestExtractAggregateIDFromTopics/Simple_topic (0.00s)
    --- PASS: TestExtractAggregateIDFromTopics/Topic_with_underscore (0.00s)
    --- PASS: TestExtractAggregateIDFromTopics/Topic_with_dash (0.00s)
    --- PASS: TestExtractAggregateIDFromTopics/Topic_with_special_char_@ (0.00s)
    --- PASS: TestExtractAggregateIDFromTopics/Topic_with_numbers (0.00s)
    --- PASS: TestExtractAggregateIDFromTopics/Stage2_test_topic (0.00s)
    --- PASS: TestExtractAggregateIDFromTopics/Stage2_test_topic_with_timestamp (0.00s)
    --- PASS: TestExtractAggregateIDFromTopics/Stage2_topic_with_special_chars (0.00s)
FAIL
exit status 1
FAIL	github.com/ChenBigdata421/jxt-core/sdk/pkg/eventbus	25.010s
