=== RUN   TestKafkaVsNATSPerformanceComparison
    kafka_nats_comparison_test.go:200: ğŸš€ ===== Kafka vs NATS JetStream å…¨é¢æ€§èƒ½å¯¹æ¯”æµ‹è¯• =====
    kafka_nats_comparison_test.go:201: ğŸ“‹ æµ‹è¯•è¦æ±‚:
    kafka_nats_comparison_test.go:202:    1. åˆ›å»º EventBus å®ä¾‹ï¼ˆKafka å’Œ NATS JetStreamï¼‰
    kafka_nats_comparison_test.go:203:    2. NATS JetStream æŒä¹…åŒ–åˆ°ç£ç›˜
    kafka_nats_comparison_test.go:204:    3. ä½¿ç”¨ PublishEnvelope æ–¹æ³•å‘å¸ƒ
    kafka_nats_comparison_test.go:205:    4. ä½¿ç”¨ SubscribeEnvelope æ–¹æ³•è®¢é˜…
    kafka_nats_comparison_test.go:206:    5. æµ‹è¯•å‹åŠ›ï¼šä½å‹500ã€ä¸­å‹2000ã€é«˜å‹5000ã€æé™10000
    kafka_nats_comparison_test.go:207: 
    kafka_nats_comparison_test.go:228: 
        ================================================================================
    kafka_nats_comparison_test.go:229: ğŸ¯ å¼€å§‹ ä½å‹ æµ‹è¯• (500 æ¡æ¶ˆæ¯)
    kafka_nats_comparison_test.go:230: ================================================================================
    kafka_nats_comparison_test.go:169: 
        ğŸ”„ å‡†å¤‡æµ‹è¯•ç¯å¢ƒ: ä½å‹
    kafka_nats_comparison_test.go:77: ğŸ§¹ æ¸…ç† Kafka æµ‹è¯•æ•°æ® (topic prefix: kafka.perf)...
    kafka_nats_comparison_test.go:120: â„¹ï¸  æ²¡æœ‰æ‰¾åˆ°éœ€è¦æ¸…ç†çš„ Kafka topics
    kafka_nats_comparison_test.go:126: ğŸ§¹ æ¸…ç† NATS JetStream æµ‹è¯•æ•°æ® (stream prefix: PERF_)...
    kafka_nats_comparison_test.go:163: â„¹ï¸  æ²¡æœ‰æ‰¾åˆ°éœ€è¦æ¸…ç†çš„ NATS streams
    kafka_nats_comparison_test.go:181: âœ… æµ‹è¯•ç¯å¢ƒå‡†å¤‡å®Œæˆ
    kafka_nats_comparison_test.go:236: 
        ğŸ”´ æµ‹è¯• Kafka...
2025-10-12T17:37:25.177+0800	INFO	logger/logger.go:48	Kafka EventBus created successfully (AsyncProducer mode)brokers[localhost:29094]clientIdkafka-perf-ä½å‹-1760261845healthCheckInterval30scompressionsnappyflushFrequency10msflushMessages100flushBytes1048576
    kafka_nats_comparison_test.go:508: âœ… å‘é€å®Œæˆ: 499/500 æ¡æ¶ˆæ¯
    kafka_nats_comparison_test.go:526: â° æ¥æ”¶è¶…æ—¶: 0/500 æ¡æ¶ˆæ¯
    kafka_nats_comparison_test.go:241: â³ ç­‰å¾…èµ„æºé‡Šæ”¾...
    kafka_nats_comparison_test.go:246: 
        ğŸ”µ æµ‹è¯• NATS JetStream (ç£ç›˜æŒä¹…åŒ–)...
2025-10-12T17:38:06.215+0800	INFO	logger/logger.go:48	NATS EventBus created successfullyurls[nats://localhost:4223]clientIdnats-perf-ä½å‹-1760261886
    kafka_nats_comparison_test.go:508: âœ… å‘é€å®Œæˆ: 499/500 æ¡æ¶ˆæ¯
    kafka_nats_comparison_test.go:522: âœ… æ¥æ”¶å®Œæˆ: 499/500 æ¡æ¶ˆæ¯
    kafka_nats_comparison_test.go:593: 
        ================================================================================
    kafka_nats_comparison_test.go:594: ğŸ“Š ä½å‹ æµ‹è¯•ç»“æœå¯¹æ¯”
    kafka_nats_comparison_test.go:595: ================================================================================
    kafka_nats_comparison_test.go:598: 
        ğŸ“¨ æ¶ˆæ¯ç»Ÿè®¡:
    kafka_nats_comparison_test.go:599:    å‘é€æ¶ˆæ¯æ•°                | Kafka:      499 | NATS:      499
    kafka_nats_comparison_test.go:600:    æ¥æ”¶æ¶ˆæ¯æ•°                | Kafka:        0 | NATS:      499
    kafka_nats_comparison_test.go:601:    æˆåŠŸç‡                  | Kafka:    0.00% | NATS:  100.00%
    kafka_nats_comparison_test.go:602:    å‘é€é”™è¯¯                 | Kafka:        1 | NATS:        1
    kafka_nats_comparison_test.go:603:    å¤„ç†é”™è¯¯                 | Kafka:        0 | NATS:        0
    kafka_nats_comparison_test.go:604:    é¡ºåºè¿å                 | Kafka:        0 | NATS:      184
    kafka_nats_comparison_test.go:607: 
        ğŸš€ æ€§èƒ½æŒ‡æ ‡:
    kafka_nats_comparison_test.go:608:    å‘é€ååé‡                | Kafka:      16.09 msg/s | NATS:     234.56 msg/s
    kafka_nats_comparison_test.go:609:    æ¥æ”¶ååé‡                | Kafka:       0.00 msg/s | NATS:     234.56 msg/s
    kafka_nats_comparison_test.go:610:    å¹³å‡å‘é€å»¶è¿Ÿ               | Kafka:      8.057 ms | NATS:      1.126 ms
    kafka_nats_comparison_test.go:611:    å¹³å‡å¤„ç†å»¶è¿Ÿ               | Kafka:      0.000 ms | NATS:      0.001 ms
    kafka_nats_comparison_test.go:612:    æ€»è€—æ—¶                  | Kafka:      31.02 s | NATS:       2.13 s
    kafka_nats_comparison_test.go:615: 
        ğŸ’¾ èµ„æºå ç”¨:
    kafka_nats_comparison_test.go:616:    åˆå§‹åç¨‹æ•°                | Kafka:        3 | NATS:        3
    kafka_nats_comparison_test.go:617:    å³°å€¼åç¨‹æ•°                | Kafka:      131 | NATS:     1424
    kafka_nats_comparison_test.go:618:    æœ€ç»ˆåç¨‹æ•°                | Kafka:      124 | NATS:     1418
    kafka_nats_comparison_test.go:619:    åç¨‹æ³„æ¼                 | Kafka:      121 | NATS:     1415
    kafka_nats_comparison_test.go:620:    åˆå§‹å†…å­˜                 | Kafka:       1.45 MB | NATS:       1.55 MB
    kafka_nats_comparison_test.go:621:    å³°å€¼å†…å­˜                 | Kafka:       3.16 MB | NATS:      20.65 MB
    kafka_nats_comparison_test.go:622:    æœ€ç»ˆå†…å­˜                 | Kafka:       2.32 MB | NATS:      20.80 MB
    kafka_nats_comparison_test.go:623:    å†…å­˜å¢é‡                 | Kafka:       1.71 MB | NATS:      19.10 MB
    kafka_nats_comparison_test.go:626: 
        ğŸ† æ€§èƒ½ä¼˜åŠ¿:
    kafka_nats_comparison_test.go:632:    NATS ååé‡ä¼˜åŠ¿: ++Inf%
    kafka_nats_comparison_test.go:637:    Kafka å»¶è¿Ÿä¼˜åŠ¿: -100.00%
    kafka_nats_comparison_test.go:645:    Kafka å†…å­˜ä¼˜åŠ¿: -91.06%
    kafka_nats_comparison_test.go:651: ================================================================================
    kafka_nats_comparison_test.go:654: 
        	Error Trace:	D:/JXT/jxt-evidence-system/jxt-core/tests/eventbus/performance_tests/kafka_nats_comparison_test.go:654
        	            				D:/JXT/jxt-evidence-system/jxt-core/tests/eventbus/performance_tests/kafka_nats_comparison_test.go:251
        	Error:      	"0" is not greater than "90"
        	Test:       	TestKafkaVsNATSPerformanceComparison
        	Messages:   	Kafka æˆåŠŸç‡åº”è¯¥ > 90%
    kafka_nats_comparison_test.go:657: 
        	Error Trace:	D:/JXT/jxt-evidence-system/jxt-core/tests/eventbus/performance_tests/kafka_nats_comparison_test.go:657
        	            				D:/JXT/jxt-evidence-system/jxt-core/tests/eventbus/performance_tests/kafka_nats_comparison_test.go:251
        	Error:      	Not equal: 
        	            	expected: 0
        	            	actual  : 184
        	Test:       	TestKafkaVsNATSPerformanceComparison
        	Messages:   	NATS ä¸åº”è¯¥æœ‰é¡ºåºè¿å
    kafka_nats_comparison_test.go:254: â³ ç­‰å¾…èµ„æºé‡Šæ”¾...
    kafka_nats_comparison_test.go:228: 
        ================================================================================
    kafka_nats_comparison_test.go:229: ğŸ¯ å¼€å§‹ ä¸­å‹ æµ‹è¯• (2000 æ¡æ¶ˆæ¯)
    kafka_nats_comparison_test.go:230: ================================================================================
    kafka_nats_comparison_test.go:169: 
        ğŸ”„ å‡†å¤‡æµ‹è¯•ç¯å¢ƒ: ä¸­å‹
    kafka_nats_comparison_test.go:77: ğŸ§¹ æ¸…ç† Kafka æµ‹è¯•æ•°æ® (topic prefix: kafka.perf)...
    kafka_nats_comparison_test.go:120: â„¹ï¸  æ²¡æœ‰æ‰¾åˆ°éœ€è¦æ¸…ç†çš„ Kafka topics
    kafka_nats_comparison_test.go:126: ğŸ§¹ æ¸…ç† NATS JetStream æµ‹è¯•æ•°æ® (stream prefix: PERF_)...
    kafka_nats_comparison_test.go:154:    âœ… å·²åˆ é™¤ stream: PERF_ä½å‹_1760261886
    kafka_nats_comparison_test.go:161: âœ… æˆåŠŸåˆ é™¤ 1 ä¸ª NATS streams
    kafka_nats_comparison_test.go:181: âœ… æµ‹è¯•ç¯å¢ƒå‡†å¤‡å®Œæˆ
    kafka_nats_comparison_test.go:236: 
        ğŸ”´ æµ‹è¯• Kafka...
2025-10-12T17:38:20.395+0800	INFO	logger/logger.go:48	Kafka EventBus created successfully (AsyncProducer mode)brokers[localhost:29094]clientIdkafka-perf-ä¸­å‹-1760261900healthCheckInterval30scompressionsnappyflushFrequency10msflushMessages100flushBytes1048576
    kafka_nats_comparison_test.go:508: âœ… å‘é€å®Œæˆ: 1999/2000 æ¡æ¶ˆæ¯
    kafka_nats_comparison_test.go:526: â° æ¥æ”¶è¶…æ—¶: 0/2000 æ¡æ¶ˆæ¯
    kafka_nats_comparison_test.go:241: â³ ç­‰å¾…èµ„æºé‡Šæ”¾...
    kafka_nats_comparison_test.go:246: 
        ğŸ”µ æµ‹è¯• NATS JetStream (ç£ç›˜æŒä¹…åŒ–)...
2025-10-12T17:39:31.460+0800	INFO	logger/logger.go:48	NATS EventBus created successfullyurls[nats://localhost:4223]clientIdnats-perf-ä¸­å‹-1760261971
    kafka_nats_comparison_test.go:508: âœ… å‘é€å®Œæˆ: 1999/2000 æ¡æ¶ˆæ¯
    kafka_nats_comparison_test.go:522: âœ… æ¥æ”¶å®Œæˆ: 2000/2000 æ¡æ¶ˆæ¯
    kafka_nats_comparison_test.go:593: 
        ================================================================================
    kafka_nats_comparison_test.go:594: ğŸ“Š ä¸­å‹ æµ‹è¯•ç»“æœå¯¹æ¯”
    kafka_nats_comparison_test.go:595: ================================================================================
    kafka_nats_comparison_test.go:598: 
        ğŸ“¨ æ¶ˆæ¯ç»Ÿè®¡:
    kafka_nats_comparison_test.go:599:    å‘é€æ¶ˆæ¯æ•°                | Kafka:     1999 | NATS:     1999
    kafka_nats_comparison_test.go:600:    æ¥æ”¶æ¶ˆæ¯æ•°                | Kafka:        0 | NATS:     2000
    kafka_nats_comparison_test.go:601:    æˆåŠŸç‡                  | Kafka:    0.00% | NATS:  100.05%
    kafka_nats_comparison_test.go:602:    å‘é€é”™è¯¯                 | Kafka:        1 | NATS:        1
    kafka_nats_comparison_test.go:603:    å¤„ç†é”™è¯¯                 | Kafka:        0 | NATS:        0
    kafka_nats_comparison_test.go:604:    é¡ºåºè¿å                 | Kafka:        0 | NATS:      937
    kafka_nats_comparison_test.go:607: 
        ğŸš€ æ€§èƒ½æŒ‡æ ‡:
    kafka_nats_comparison_test.go:608:    å‘é€ååé‡                | Kafka:      32.74 msg/s | NATS:     122.95 msg/s
    kafka_nats_comparison_test.go:609:    æ¥æ”¶ååé‡                | Kafka:       0.00 msg/s | NATS:     123.01 msg/s
    kafka_nats_comparison_test.go:610:    å¹³å‡å‘é€å»¶è¿Ÿ               | Kafka:      9.560 ms | NATS:      2.090 ms
    kafka_nats_comparison_test.go:611:    å¹³å‡å¤„ç†å»¶è¿Ÿ               | Kafka:      0.000 ms | NATS:      0.002 ms
    kafka_nats_comparison_test.go:612:    æ€»è€—æ—¶                  | Kafka:      61.05 s | NATS:      16.26 s
    kafka_nats_comparison_test.go:615: 
        ğŸ’¾ èµ„æºå ç”¨:
    kafka_nats_comparison_test.go:616:    åˆå§‹åç¨‹æ•°                | Kafka:        3 | NATS:        3
    kafka_nats_comparison_test.go:617:    å³°å€¼åç¨‹æ•°                | Kafka:      146 | NATS:     1439
    kafka_nats_comparison_test.go:618:    æœ€ç»ˆåç¨‹æ•°                | Kafka:      124 | NATS:     1418
    kafka_nats_comparison_test.go:619:    åç¨‹æ³„æ¼                 | Kafka:      121 | NATS:     1415
    kafka_nats_comparison_test.go:620:    åˆå§‹å†…å­˜                 | Kafka:       2.29 MB | NATS:       2.28 MB
    kafka_nats_comparison_test.go:621:    å³°å€¼å†…å­˜                 | Kafka:       5.08 MB | NATS:      25.49 MB
    kafka_nats_comparison_test.go:622:    æœ€ç»ˆå†…å­˜                 | Kafka:       3.23 MB | NATS:      22.73 MB
    kafka_nats_comparison_test.go:623:    å†…å­˜å¢é‡                 | Kafka:       2.80 MB | NATS:      23.20 MB
    kafka_nats_comparison_test.go:626: 
        ğŸ† æ€§èƒ½ä¼˜åŠ¿:
    kafka_nats_comparison_test.go:632:    NATS ååé‡ä¼˜åŠ¿: ++Inf%
    kafka_nats_comparison_test.go:637:    Kafka å»¶è¿Ÿä¼˜åŠ¿: -100.00%
    kafka_nats_comparison_test.go:645:    Kafka å†…å­˜ä¼˜åŠ¿: -87.95%
    kafka_nats_comparison_test.go:651: ================================================================================
    kafka_nats_comparison_test.go:654: 
        	Error Trace:	D:/JXT/jxt-evidence-system/jxt-core/tests/eventbus/performance_tests/kafka_nats_comparison_test.go:654
        	            				D:/JXT/jxt-evidence-system/jxt-core/tests/eventbus/performance_tests/kafka_nats_comparison_test.go:251
        	Error:      	"0" is not greater than "90"
        	Test:       	TestKafkaVsNATSPerformanceComparison
        	Messages:   	Kafka æˆåŠŸç‡åº”è¯¥ > 90%
    kafka_nats_comparison_test.go:657: 
        	Error Trace:	D:/JXT/jxt-evidence-system/jxt-core/tests/eventbus/performance_tests/kafka_nats_comparison_test.go:657
        	            				D:/JXT/jxt-evidence-system/jxt-core/tests/eventbus/performance_tests/kafka_nats_comparison_test.go:251
        	Error:      	Not equal: 
        	            	expected: 0
        	            	actual  : 937
        	Test:       	TestKafkaVsNATSPerformanceComparison
        	Messages:   	NATS ä¸åº”è¯¥æœ‰é¡ºåºè¿å
    kafka_nats_comparison_test.go:254: â³ ç­‰å¾…èµ„æºé‡Šæ”¾...
    kafka_nats_comparison_test.go:228: 
        ================================================================================
    kafka_nats_comparison_test.go:229: ğŸ¯ å¼€å§‹ é«˜å‹ æµ‹è¯• (5000 æ¡æ¶ˆæ¯)
    kafka_nats_comparison_test.go:230: ================================================================================
    kafka_nats_comparison_test.go:169: 
        ğŸ”„ å‡†å¤‡æµ‹è¯•ç¯å¢ƒ: é«˜å‹
    kafka_nats_comparison_test.go:77: ğŸ§¹ æ¸…ç† Kafka æµ‹è¯•æ•°æ® (topic prefix: kafka.perf)...
    kafka_nats_comparison_test.go:120: â„¹ï¸  æ²¡æœ‰æ‰¾åˆ°éœ€è¦æ¸…ç†çš„ Kafka topics
    kafka_nats_comparison_test.go:126: ğŸ§¹ æ¸…ç† NATS JetStream æµ‹è¯•æ•°æ® (stream prefix: PERF_)...
    kafka_nats_comparison_test.go:154:    âœ… å·²åˆ é™¤ stream: PERF_ä¸­å‹_1760261971
    kafka_nats_comparison_test.go:161: âœ… æˆåŠŸåˆ é™¤ 1 ä¸ª NATS streams
    kafka_nats_comparison_test.go:181: âœ… æµ‹è¯•ç¯å¢ƒå‡†å¤‡å®Œæˆ
    kafka_nats_comparison_test.go:236: 
        ğŸ”´ æµ‹è¯• Kafka...
2025-10-12T17:39:59.753+0800	INFO	logger/logger.go:48	Kafka EventBus created successfully (AsyncProducer mode)brokers[localhost:29094]clientIdkafka-perf-é«˜å‹-1760261999healthCheckInterval30scompressionsnappyflushFrequency10msflushMessages100flushBytes1048576
    kafka_nats_comparison_test.go:508: âœ… å‘é€å®Œæˆ: 4999/5000 æ¡æ¶ˆæ¯
    kafka_nats_comparison_test.go:526: â° æ¥æ”¶è¶…æ—¶: 0/5000 æ¡æ¶ˆæ¯
    kafka_nats_comparison_test.go:241: â³ ç­‰å¾…èµ„æºé‡Šæ”¾...
    kafka_nats_comparison_test.go:246: 
        ğŸ”µ æµ‹è¯• NATS JetStream (ç£ç›˜æŒä¹…åŒ–)...
2025-10-12T17:41:40.883+0800	INFO	logger/logger.go:48	NATS EventBus created successfullyurls[nats://localhost:4223]clientIdnats-perf-é«˜å‹-1760262100
    kafka_nats_comparison_test.go:508: âœ… å‘é€å®Œæˆ: 4999/5000 æ¡æ¶ˆæ¯
