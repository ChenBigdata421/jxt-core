=== RUN   TestKafkaVsNATSPerformanceComparison
    kafka_nats_comparison_test.go:258: 🚀 ===== Kafka vs NATS JetStream 全面性能对比测试 =====
    kafka_nats_comparison_test.go:259: 📋 测试要求:
    kafka_nats_comparison_test.go:260:    1. 创建 EventBus 实例（Kafka 和 NATS JetStream）
    kafka_nats_comparison_test.go:261:    2. NATS JetStream 持久化到磁盘
    kafka_nats_comparison_test.go:262:    3. 使用 PublishEnvelope 方法发布
    kafka_nats_comparison_test.go:263:    4. 使用 SubscribeEnvelope 方法订阅
    kafka_nats_comparison_test.go:264:    5. 测试压力：低压500、中压2000、高压5000、极限10000
    kafka_nats_comparison_test.go:265:    6. Topic 数量：5
    kafka_nats_comparison_test.go:266:    7. 统计连接数和消费者组个数
    kafka_nats_comparison_test.go:267:    8. 仅使用 ASCII 字符命名
    kafka_nats_comparison_test.go:268: 
    kafka_nats_comparison_test.go:289: 
        ================================================================================
    kafka_nats_comparison_test.go:290: 🎯 开始 低压 测试 (500 条消息)
    kafka_nats_comparison_test.go:291: ================================================================================
    kafka_nats_comparison_test.go:227: 
        🔄 准备测试环境: 低压
    kafka_nats_comparison_test.go:135: 🧹 清理 Kafka 测试数据 (topic prefix: kafka.perf)...
    kafka_nats_comparison_test.go:171: ⚠️  删除 topic kafka.perf.extreme.topic4 失败: kafka server: Request was for a topic or partition that does not exist on this broker
    kafka_nats_comparison_test.go:173:    ✅ 已删除 topic: kafka.perf.medium.topic5
    kafka_nats_comparison_test.go:173:    ✅ 已删除 topic: kafka.perf.high.topic2
    kafka_nats_comparison_test.go:173:    ✅ 已删除 topic: kafka.perf.high.topic3
    kafka_nats_comparison_test.go:173:    ✅ 已删除 topic: kafka.perf.high.topic4
    kafka_nats_comparison_test.go:173:    ✅ 已删除 topic: kafka.perf.extreme.topic5
    kafka_nats_comparison_test.go:173:    ✅ 已删除 topic: kafka.perf.low.topic3
    kafka_nats_comparison_test.go:173:    ✅ 已删除 topic: kafka.perf.extreme.topic3
    kafka_nats_comparison_test.go:173:    ✅ 已删除 topic: kafka.perf.low.topic1
    kafka_nats_comparison_test.go:173:    ✅ 已删除 topic: kafka.perf.medium.topic3
    kafka_nats_comparison_test.go:173:    ✅ 已删除 topic: kafka.perf.high.topic1
    kafka_nats_comparison_test.go:173:    ✅ 已删除 topic: kafka.perf.low.topic2
    kafka_nats_comparison_test.go:173:    ✅ 已删除 topic: kafka.perf.extreme.topic1
    kafka_nats_comparison_test.go:173:    ✅ 已删除 topic: kafka.perf.low.topic5
    kafka_nats_comparison_test.go:173:    ✅ 已删除 topic: kafka.perf.medium.topic2
    kafka_nats_comparison_test.go:173:    ✅ 已删除 topic: kafka.perf.extreme.topic2
    kafka_nats_comparison_test.go:173:    ✅ 已删除 topic: kafka.perf.high.topic5
    kafka_nats_comparison_test.go:173:    ✅ 已删除 topic: kafka.perf.low.topic4
    kafka_nats_comparison_test.go:173:    ✅ 已删除 topic: kafka.perf.medium.topic4
    kafka_nats_comparison_test.go:173:    ✅ 已删除 topic: kafka.perf.medium.topic1
    kafka_nats_comparison_test.go:176: ✅ 成功删除 20 个 Kafka topics
    kafka_nats_comparison_test.go:184: 🧹 清理 NATS JetStream 测试数据 (stream prefix: PERF_)...
    kafka_nats_comparison_test.go:212:    ✅ 已删除 stream: PERF_medium_1760287816
    kafka_nats_comparison_test.go:219: ✅ 成功删除 1 个 NATS streams
    kafka_nats_comparison_test.go:239: ✅ 测试环境准备完成
    kafka_nats_comparison_test.go:297: 
        🔴 测试 Kafka...
2025-10-13T00:51:33.646+0800	INFO	logger/logger.go:48	Kafka EventBus created successfully (AsyncProducer mode)brokers[localhost:29094]clientIdkafka-perf-low-1760287893healthCheckInterval30scompressionsnappyflushFrequency10msflushMessages100flushBytes1048576
    kafka_nats_comparison_test.go:414: ✅ 已设置预订阅 topic 列表: [kafka.perf.low.topic1 kafka.perf.low.topic2 kafka.perf.low.topic3 kafka.perf.low.topic4 kafka.perf.low.topic5]
